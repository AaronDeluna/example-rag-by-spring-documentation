[[contribution-guidelines]]
# Руководство по внесению изменений

## Форматирование кода и Javadoc

Перед отправкой PR, пожалуйста, выполните следующие команды, чтобы обеспечить правильное форматирование и обработку Javadoc

```
./mvnw spring-javaformat:apply javadoc:javadoc -Pjavadoc
```

`-Pjavadoc` — это профиль, который включает обработку Javadoc, чтобы избежать длительного времени сборки при разработке.

## Внесение новой реализации AI модели

В этом разделе описаны шаги для внесения новой реализации AI модели.
AI модели значительно различаются, с разнообразными входными и выходными данными — от моделей чата, которые
переводят текстовый ввод в текстовый вывод, до моделей текст-в-изображение, которые генерируют изображения
из текстовых описаний.
Сложные модели могут даже обрабатывать несколько типов входных и выходных данных, такие как комбинирование текста,
изображений и видео для получения смешанного медиа-вывода.

Чтобы внести новую модель, следуйте следующим шагам:

1. **Создайте класс низкоуровневого клиентского API**: Если ни один существующий Java клиент не подходит для AI модели,
вам нужно будет разработать класс низкоуровневого клиентского API. Это часто включает использование
класса `RestClient` из Spring Framework, аналогично классу `OpenAiApi`.

1. **Создайте реализацию модели**  
Убедитесь, что ваш клиент соответствует [Generic Model API](https://docs.spring.io/spring-ai/reference/api/generic-model.html).
Используйте существующие классы запросов и ответов, если входные и выходные данные вашей модели поддерживаются.
Если нет, создайте новые классы для Generic Model API и создайте новый пакет Java.
При регистрации Личной Идентифицируемой Информации (PII) отметьте ее с помощью https://github.com/spring-projects/spring-ai/tree/main/spring-ai-core/src/main/java/org/springframework/ai/util/LoggingMarkers.java[`PII_MARKER`] маркера Slf4j.

1. **Реализуйте автонастройку и Spring Boot Starter**: Этот шаг включает создание
необходимой автонастройки и Spring Boot Starter для легкой инстанциации новой модели в
приложениях Spring Boot.

1. **Напишите тесты**: Все новые классы должны сопровождаться всесторонними тестами.
Существующие тесты могут служить полезной ссылкой для структурирования и реализации ваших тестов.

1. **Документируйте ваше внесение**: Убедитесь, что ваша документация соответствует существующему формату.
Для примера предложенной структуры и форматирования обратитесь к
[документации Open AI Chat](https://docs.spring.io/spring-ai/reference/api/chat/openai-chat.html).

Следуя этим рекомендациям, мы можем значительно расширить диапазон поддерживаемых моделей фреймворка,
соблюдая общий шаблон реализации и документации.
