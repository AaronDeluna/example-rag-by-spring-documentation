# Примеры работы с Spring AI

## 1. Различные примеры
В модуле `mcp-test-apps` содержатся тестовые примеры для работы с локально поднятыми моделями через Ollama.

## 2. Пример MCP-сервера с взаимодействием по STDIO

## Описание
Реализация **MCP-клиента** и **MCP-сервера**, которые взаимодействуют через **STDIO** представлена в двух модулях:
- `stdio-mcp-client`
- `stdio-mcp-server`

## Запуск клиента и сервера по STDIO
Для запуска можно использовать две реализации.

### Реализция: клиент-тест
В данной реализации тест в модуле `stdio-mcp-server` выполняет запуск скомпилированного `jar`-файла **MCP-сервера**.

Для этого:
1. Скомпилировать исполняемый файл **MCP-сервера** (с пропуском тестов):
> `mvn clean install -pl stdio-mcp-server -DskipTests`
2. Выполнить запуск теста, имитирующего **MCP-клиент**:
> `mvn test -pl stdio-mcp-server -Dtest=ru.mirent.stdio.StdioClientTest`

### Реализция: клиент-стороннее приложение
В данной реализации клиент и сервер являются раздельными приложениями, расположенными в разных исполняемых файлах 
разных модулей.

Для запуска необходимо выполнить команду:

1. Скомпилировать исполняемый файл **MCP-сервера** (с пропуском тестов):
> `mvn clean install -pl stdio-mcp-server -DskipTests`
2. Выполнить запуск приложения **MCP-клиента**:
> `mvn spring-boot:run -pl stdio-mcp-client`

## Запуск клиента и сервера с транспортом WebMVC

Запуск с конфигурацией по умолчанию - транспортом WebMVC:
> `mvn spring-boot:run -pl webmvc-mcp-server`

Запуск с конфигурацией `stdio` с транспортом STDIO:
> `mvn spring-boot:run -pl webmvc-mcp-server -Dspring-boot.run.profiles=stdio`

## Дополнительные команды

> Отобразить дерево зависимостей проекта:

`mvn -Dverbose dependency:tree`

> Отобразить зависимости плагинов:

`mvn dependency:resolve-plugins`