# Глобальный план по автоматизации тестирования

[Проект](https://github.com/AaronDeluna/example-rag-by-spring-documentation/tree/add-vadim-modules)
- концептуальные цели:
    - для фреймворка: добавление во фреймворк модуля или примеры тестирования AI-агентов и MCP-серверов
    - для MCP-сервера: разработка автотестов, улучшение продукта, сокращение ручного тестирования
- тесты на проверку получения данных из RAG
    - отдельно: сравнить итоговые вектора на разных моделях-эмбеддерах для одного и тот же запроса
        - если разные модели-эмбеддеры влияют на результат, то добавить тесты на проверку векторизации
    - проверка влияния изменения параметров модели-эмбеддера при векторизации запросов в RAG на ответ от RAG
        - инструменты для проверок:
            - оценить применение библиотеки RAGAS для тестирования (https://github.com/ai-qa-solutions/spring-ai-ragas)
            - Spring AI Evaluation Testing
- вызов инструмента MCP-сервера из тестового эмулятора клиента (обычные и многопоточные)
- плагин GigaCode:
  - UI тесты для плагина IDE GigaCode
  - логгирование запросов и ответов плагина:
    - перехват через прокси-сервер (например Wiremock)
    - настройка уровня логгирования на уровне HTTP-транспорта для IDE
    - перехват на уровне Application Layer с помощью WireMock
- проанализировать стандартные способы разработки тестов на Spring Boot в части их применения к тестам компонентов MCP-сервера
- попробовать подключить автостартер библиотеки https://structurizr.com/ и отрисовать диаграммы (понять применимость автостартера или полуручное рисование)
- логирование ([проработка в файле](external_loggind.md)):
    - добавить логирование между:
        - MCP-сервером и моделью-эмбеддером
        - входящие запросы в MCP-сервер
    - способы логирования:
        - observability через OpenTelemetry
            - с получением логов через отдельный endpoint
            - с запуском мини-сервера **кастомного сборника OTEL** с визуализацией
        - Adviser, стандартный или кастомный
        - логгер транспорта
        - логирование через библиотеку org.zalando
        - рассмотреть применение ApplicationEventPublisher для проекта
    - конечный вид взаимодействия из логов:
        - диаграмма PlantUML, прикрепленная к Allure-отчету
        - онлайн просмотр взаимодействия через UI-интересные **кастомного сборника OTEL**
